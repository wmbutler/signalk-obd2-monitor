{
  "type": "object",
  "title": "OBD2 Engine Monitor Configuration",
  "description": "Configure OBD2 connection and engine monitoring parameters",
  "required": ["connection", "engineManufacturer", "engineModel"],
  "properties": {
    "connection": {
      "type": "object",
      "title": "Connection Settings",
      "properties": {
        "serialPort": {
          "type": "string",
          "title": "Serial Port",
          "description": "OBD2 adapter serial port (e.g., /dev/rfcomm0, /dev/ttyUSB0)",
          "default": "/dev/rfcomm0"
        },
        "baudRate": {
          "type": "number",
          "title": "Baud Rate",
          "enum": [9600, 38400, 115200],
          "default": 9600
        },
        "updateInterval": {
          "type": "number",
          "title": "Update Interval (seconds)",
          "description": "How often to poll for new data",
          "default": 1,
          "minimum": 0.5,
          "maximum": 10
        }
      }
    },
    "engineManufacturer": {
      "type": "string",
      "title": "Engine Manufacturer",
      "enum": [
        "Generic OBD2",
        "Hyundai",
        "Yanmar",
        "Volvo Penta",
        "Mercury",
        "Caterpillar",
        "Cummins",
        "John Deere",
        "MAN",
        "MTU"
      ],
      "default": "Generic OBD2"
    },
    "engineModel": {
      "type": "string",
      "title": "Engine Model",
      "description": "Select your specific engine model",
      "enum": [
        "generic-standard",
        "hyundai-seasall-s270",
        "hyundai-seasall-s250",
        "hyundai-seasall-r200",
        "yanmar-4jh",
        "yanmar-6ly",
        "yanmar-8lv",
        "volvo-penta-d2-75",
        "volvo-penta-d4-300",
        "volvo-penta-d6-400",
        "mercury-verado-350",
        "mercury-diesel-tdi-4.2",
        "caterpillar-c7",
        "caterpillar-c12",
        "caterpillar-c18",
        "cummins-qsb6.7",
        "cummins-qsc8.3",
        "cummins-qsl9",
        "john-deere-4045",
        "john-deere-6068",
        "john-deere-6090",
        "man-i6-730",
        "man-i6-800",
        "man-v8-1000",
        "mtu-series-2000",
        "mtu-series-4000"
      ],
      "default": "generic-standard"
    },
    "engineInstance": {
      "type": "string",
      "title": "Engine Instance",
      "enum": ["port", "starboard", "main", "auxiliary"],
      "default": "port"
    },
    "monitoring": {
      "type": "object",
      "title": "Monitoring Options",
      "properties": {
        "fuelFlowRate": {
          "type": "boolean",
          "title": "Monitor Fuel Flow Rate",
          "default": true
        },
        "fuelPressure": {
          "type": "boolean",
          "title": "Monitor Fuel Rail Pressure",
          "default": true
        },
        "calculateFuelConsumption": {
          "type": "boolean",
          "title": "Calculate Fuel Consumption",
          "description": "Track total and average fuel consumption",
          "default": true
        },
        "calculateFuelEfficiency": {
          "type": "boolean",
          "title": "Calculate Fuel Efficiency",
          "description": "Calculate fuel per distance and optimal RPM",
          "default": true
        }
      }
    },
    "alarms": {
      "type": "object",
      "title": "Alarm Configuration",
      "properties": {
        "coolantTemperature": {
          "type": "object",
          "title": "Coolant Temperature Alarms",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Coolant Temperature Alarms",
              "default": true
            },
            "warning": {
              "type": "number",
              "title": "Warning Temperature (°C)",
              "default": 85,
              "minimum": 60,
              "maximum": 120
            },
            "alarm": {
              "type": "number",
              "title": "Alarm Temperature (°C)",
              "default": 95,
              "minimum": 70,
              "maximum": 130
            },
            "emergency": {
              "type": "number",
              "title": "Emergency Temperature (°C)",
              "default": 105,
              "minimum": 80,
              "maximum": 140
            }
          }
        },
        "fuelPressure": {
          "type": "object",
          "title": "Fuel Pressure Alarms",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Fuel Pressure Alarms",
              "default": true
            },
            "lowWarning": {
              "type": "number",
              "title": "Low Pressure Warning (kPa)",
              "default": 300,
              "minimum": 100,
              "maximum": 500
            },
            "lowAlarm": {
              "type": "number",
              "title": "Low Pressure Alarm (kPa)",
              "default": 250,
              "minimum": 50,
              "maximum": 400
            },
            "highWarning": {
              "type": "number",
              "title": "High Pressure Warning (kPa)",
              "default": 600,
              "minimum": 400,
              "maximum": 1000
            },
            "highAlarm": {
              "type": "number",
              "title": "High Pressure Alarm (kPa)",
              "default": 700,
              "minimum": 500,
              "maximum": 1200
            }
          }
        },
        "oilTemperature": {
          "type": "object",
          "title": "Oil Temperature Alarms",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "Enable Oil Temperature Alarms",
              "default": true
            },
            "warning": {
              "type": "number",
              "title": "Warning Temperature (°C)",
              "default": 110,
              "minimum": 80,
              "maximum": 140
            },
            "alarm": {
              "type": "number",
              "title": "Alarm Temperature (°C)",
              "default": 120,
              "minimum": 90,
              "maximum": 150
            }
          }
        }
      }
    }
  }
}
